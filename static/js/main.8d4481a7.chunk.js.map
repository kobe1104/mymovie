{"version":3,"sources":["data/fakeGenreService.js","data/fakeMovieService.js","components/like.jsx","components/common/tableBody.jsx","components/common/tableHeader.jsx","components/common/table.jsx","components/MovieTable.jsx","components/common/pagination.jsx","components/common/searchBox.jsx","utils/paginate.js","components/common/listGroup.jsx","components/MoviesList.jsx","components/Customers.jsx","components/Rentals.jsx","components/NotFound.jsx","components/common/NavBar.jsx","components/common/input.jsx","components/common/select.jsx","components/common/form.jsx","components/MovieForm.jsx","components/loginForm.jsx","components/registerForm.jsx","App.js","serviceWorker.js","index.js"],"names":["genres","_id","name","getGenres","filter","g","movies","title","genre","numberInStock","dailyRentalRate","liked","publishDate","getMovies","saveMovie","movie","movieInDb","find","m","genresAPI","genreId","Date","now","toString","push","Like","classes","this","props","className","style","cursor","onClick","handleLike","aria-hidden","Component","TableBody","renderCell","item","column","content","_","get","path","createKey","key","data","columns","map","col","TableHeader","raiseSort","mySortCol","sortCol","order","onSort","getSortIcon","c","label","Table","MovieTable","Link","to","onLike","onDelete","Pagination","itemCount","pageSize","handlePageChange","currentPage","pagesCount","Math","ceil","pages","range","getActiveClass","page","SearchBox","value","onChange","type","placeholder","e","currentTarget","paginate","items","startIdx","slice","take","ListGroup","handleItemSelect","textProp","valProp","currentGenre","defaultProps","MoviesList","state","allMovies","allGenres","searchQuery","setState","handleSearch","query","handleRemove","id","idx","indexOf","handleSort","getMovieData","filteredMovies","toLowerCase","startsWith","orderBy","totalCount","length","marginBottom","Customers","Rentals","NotFound","NavBar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NavLink","Input","focus","error","rest","htmlFor","autoFocus","Select","options","option","Form","errors","validateInput","obj","schema","Joi","validate","details","message","abortEarly","handleChange","input","errorMsg","newState","handleSubmit","preventDefault","doSubmit","renderInput","renderSelect","renderButton","disabled","MovieForm","mapMovieModel","showError","console","log","result","string","required","number","min","max","history","genreAPI","movieId","match","params","replace","onSubmit","LoginForm","username","password","RegisterForm","email","App","Fragment","Switch","Route","component","registerForm","Redirect","from","exact","Boolean","window","location","hostname","ReactDOM","render","StrictMode","BrowserRouter","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.8d4481a7.chunk.js","sourcesContent":["export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    liked: false,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n    liked: false,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.title = movie.title;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now().toString();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import React, { Component } from \"react\";\n\nclass Like extends Component {\n  render() {\n    let classes = \"fa fa-heart\";\n    if (!this.props.liked) classes += \"-o\";\n    return (\n      <i\n        className={classes}\n        style={{ cursor: \"pointer\" }}\n        onClick={this.props.handleLike}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n}\n\nexport default Like;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n    return _.get(item, column.path);\n  };\n  createKey = (item, column) => {\n    return item._id + (column.path || column.key);\n  };\n  render() {\n    const { data, columns } = this.props;\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((col) => (\n              <td key={this.createKey(item, col)}>\n                {this.renderCell(item, col)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React, { Component } from \"react\";\n\nclass TableHeader extends Component {\n  // columns arr\n  // sort col obj\n  // on sort\n  raiseSort = (path) => {\n    const mySortCol = { ...this.props.sortCol };\n    if (mySortCol.path === path) {\n      // reverse sort order\n      mySortCol.order = mySortCol.order === \"asc\" ? \"desc\" : \"asc\";\n    } else {\n      mySortCol.path = path;\n      mySortCol.order = \"asc\";\n    }\n    this.props.onSort(mySortCol);\n  };\n  getSortIcon = (column) => {\n    const { sortCol } = this.props;\n    if (column.path !== sortCol.path) return null;\n    const classes = \"fa fa-sort-\";\n    return <i className={classes + sortCol.order}></i>;\n  };\n  render() {\n    const { columns } = this.props;\n    return (\n      <thead>\n        <tr>\n          {columns.map((c) => (\n            <th\n              className=\"clickable\"\n              key={c.path || c.key}\n              onClick={() => this.raiseSort(c.path)}\n            >\n              {c.label} {this.getSortIcon(c)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React from \"react\";\nimport TableBody from \"./tableBody\";\nimport TableHeader from \"./tableHeader\";\n\nconst Table = ({ columns, sortCol, onSort, data }) => {\n  return (\n    <>\n      <TableHeader columns={columns} onSort={onSort} sortCol={sortCol} />\n      <TableBody data={data} columns={columns} />\n    </>\n  );\n};\n\nexport default Table;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Like from \"./like\";\nimport Table from \"./common/table\";\n\nclass MovieTable extends Component {\n  columns = [\n    {\n      path: \"title\",\n      label: \"Title\",\n      content: (movie) => (\n        <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\n      ),\n    },\n    { path: \"genre.name\", label: \"Genre\" },\n    { path: \"numberInStock\", label: \"Stock\" },\n    { path: \"dailyRentalRate\", label: \"Rate\" },\n    {\n      key: \"like\",\n      content: (movie) => (\n        <Like\n          className=\"m-2\"\n          handleLike={() => this.props.onLike(movie)}\n          liked={movie.liked}\n        />\n      ),\n    },\n    {\n      key: \"delete\",\n      content: (movie) => (\n        <button\n          onClick={() => this.props.onDelete(movie._id)}\n          className=\"btn-danger btn-sm btn m-2\"\n        >\n          Delete\n        </button>\n      ),\n    },\n  ];\n  render() {\n    const { movies, onSort, sortCol } = this.props;\n    return (\n      <table className=\"table\">\n        <Table\n          columns={this.columns}\n          data={movies}\n          onSort={onSort}\n          sortCol={sortCol}\n        />\n      </table>\n    );\n  }\n}\n\nexport default MovieTable;\n","import React from \"react\";\nimport _ from \"lodash\";\nimport PropTypes from \"prop-types\";\n\nconst Pagination = ({ itemCount, pageSize, handlePageChange, currentPage }) => {\n  const pagesCount = Math.ceil(itemCount / pageSize);\n  if (pagesCount === 1) return null;\n  const pages = _.range(1, pagesCount + 1);\n  const getActiveClass = (page) => {\n    return currentPage === page ? \"page-item active\" : \"page-item\";\n  };\n  return (\n    <nav>\n      <ul className=\"pagination\">\n        {pages.map((page) => (\n          <li className={getActiveClass(page)} key={page}>\n            <div className=\"page-link\" onClick={() => handlePageChange(page)}>\n              {page}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\nPagination.propTypes = {\n  itemCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  handlePageChange: PropTypes.func.isRequired,\n};\nexport default Pagination;\n","import React from \"react\";\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Search...\"\n      value={value}\n      onChange={(e) => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import _ from \"lodash\";\n\nexport function paginate(items, currentPage, pageSize) {\n  const startIdx = (currentPage - 1) * pageSize;\n  // convert it to a lodash obj to chain methods\n  return _(items).slice(startIdx).take(pageSize).value();\n}\n","import React from \"react\";\n\nexport function ListGroup({\n  genres,\n  handleItemSelect,\n  textProp,\n  valProp,\n  currentGenre,\n}) {\n  const getActiveClass = (g) => {\n    const currG = currentGenre ? currentGenre : genres[0];\n    return currG[valProp] === g[valProp]\n      ? \"list-group-item active\"\n      : \"list-group-item\";\n  };\n  return (\n    <ul className=\"list-group\">\n      {genres.map((g) => (\n        <li\n          className={getActiveClass(g)}\n          key={g[textProp]}\n          onClick={() => handleItemSelect(g)}\n        >\n          {g[textProp]}\n        </li>\n      ))}\n    </ul>\n  );\n}\nListGroup.defaultProps = {\n  textProp: \"name\",\n  valProp: \"_id\",\n};\n","import React, { Component } from \"react\";\nimport { getMovies } from \"../data/fakeMovieService\";\nimport MovieTable from \"./MovieTable\";\nimport Pagination from \"./common/pagination\";\nimport SearchBox from \"./common/searchBox\";\nimport { paginate } from \"../utils/paginate\";\nimport { Link } from \"react-router-dom\";\nimport { getGenres } from \"../data/fakeGenreService\";\nimport { ListGroup } from \"./common/listGroup\";\nimport _ from \"lodash\";\n\nclass MoviesList extends Component {\n  state = {\n    allMovies: [],\n    allGenres: [],\n    searchQuery: \"\",\n    pageSize: 4,\n    currentPage: 1,\n    sortCol: { path: \"title\", order: \"asc\" },\n  };\n  componentDidMount() {\n    const allGenres = [{ name: \"All Genres\" }, ...getGenres()];\n    this.setState({ allMovies: getMovies(), allGenres });\n  }\n  handleItemSelect = (genre) => {\n    this.setState({ currentGenre: genre, searchQuery: \"\", currentPage: 1 });\n  };\n  handleSearch = (query) => {\n    this.setState({ searchQuery: query, currentGenre: null, currentPage: 1 });\n  };\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n  handleRemove = (id) => {\n    const movies = this.state.allMovies.filter((m) => m._id !== id);\n    this.setState({ allMovies: movies });\n  };\n  handleLike = (movie) => {\n    let allMovies = [...this.state.allMovies];\n    let idx = allMovies.indexOf(movie);\n    allMovies[idx].liked = !allMovies[idx].liked;\n    this.setState({ allMovies });\n  };\n  handleSort = (sortCol) => {\n    this.setState({ sortCol });\n  };\n  getMovieData = () => {\n    const {\n      pageSize,\n      currentPage,\n      allMovies,\n      currentGenre,\n      searchQuery,\n      sortCol,\n    } = this.state;\n    let filteredMovies = allMovies;\n    if (searchQuery) {\n      filteredMovies = allMovies.filter((m) =>\n        m.title.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    } else if (currentGenre && currentGenre._id) {\n      filteredMovies = allMovies.filter(\n        (m) => m.genre._id === currentGenre._id\n      );\n    }\n    const sorted = _.orderBy(filteredMovies, [sortCol.path], [sortCol.order]);\n\n    const movies = paginate(sorted, currentPage, pageSize);\n    return { totalCount: filteredMovies.length, data: movies };\n  };\n  render() {\n    const { pageSize, currentPage, sortCol, searchQuery } = this.state;\n    const { totalCount, data: movies } = this.getMovieData();\n    return (\n      <div className=\"row\">\n        <div className=\"col-3\">\n          <ListGroup\n            genres={this.state.allGenres}\n            currentGenre={this.state.currentGenre}\n            handleItemSelect={this.handleItemSelect}\n          />\n        </div>\n        <div className=\"col\">\n          <Link\n            to=\"/movies/new\"\n            className=\"btn btn-primary\"\n            style={{ marginBottom: 20 }}\n          >\n            New Movie\n          </Link>\n          {this.state.allMovies.length ? (\n            <h1>currently showing:{totalCount} movies</h1>\n          ) : (\n            <h1>there's no movies</h1>\n          )}\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\n          {totalCount > 0 && (\n            <MovieTable\n              movies={movies}\n              sortCol={sortCol}\n              onLike={this.handleLike}\n              onDelete={this.handleRemove}\n              onSort={this.handleSort}\n            />\n          )}\n          <Pagination\n            pageSize={pageSize}\n            itemCount={totalCount}\n            currentPage={currentPage}\n            handlePageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MoviesList;\n","import React from \"react\";\n\nconst Customers = (props) => {\n  return <h1>Customers</h1>;\n};\n\nexport default Customers;\n","import React from \"react\";\n\nconst Rentals = (props) => {\n  return <h1>Rentals</h1>;\n};\n\nexport default Rentals;\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h1>Page Not found</h1>;\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nconst NavBar = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        Vidly\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul className=\"navbar-nav\">\n          <li className=\"nav-item\">\n            <NavLink className=\"nav-link\" to=\"/\">\n              Movies\n            </NavLink>\n          </li>\n          <li className=\"nav-item\">\n            <NavLink className=\"nav-link\" to=\"/customers\">\n              Customers\n            </NavLink>\n          </li>\n          <li className=\"nav-item\">\n            <NavLink className=\"nav-link\" to=\"/rentals\">\n              Rentals\n            </NavLink>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\n// use ... spread operator to replace attributes like value={value}\nconst Input = ({ name, label, focus, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <input\n        {...rest}\n        id={name}\n        name={name}\n        autoFocus={focus}\n        className=\"form-control\"\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map((option) => (\n          <option value={option._id} key={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Input from \"./input\";\nimport Select from \"./select\";\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n  validateInput = ({ value, name }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) {\n      errors[item.path[0]] = item.message;\n    }\n    return errors;\n  };\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMsg = this.validateInput(input);\n    if (errorMsg) errors[input.name] = errorMsg;\n    else delete errors[input.name];\n\n    const newState = { ...this.state.data };\n    newState[input.name] = input.value;\n    this.setState({ data: newState, errors });\n  };\n  handleSubmit = (e) => {\n    // validation\n    e.preventDefault();\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n    this.doSubmit();\n  };\n  renderInput = (name, label, focus = false, type = \"text\") => {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        name={name}\n        label={label}\n        value={data[name]}\n        onChange={this.handleChange}\n        error={errors[name]}\n        focus={focus}\n      />\n    );\n  };\n  renderSelect = (name, label, options) => {\n    const { data, errors } = this.state;\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  };\n  renderButton = (label) => {\n    return (\n      <button disabled={this.validate()} className=\"btn btn-primary\">\n        {label}\n      </button>\n    );\n  };\n}\n\nexport default Form;\n","import React from \"react\";\nimport Form from \"./common/form\";\nimport { getMovies, getMovie, saveMovie } from \"../data/fakeMovieService\";\nimport * as genreAPI from \"../data/fakeGenreService\";\nimport Joi from \"joi-browser\";\n\nclass MovieForm extends Form {\n  state = {\n    data: {\n      title: \"\",\n      genreId: \"\",\n      numberInStock: \"\",\n      dailyRentalRate: \"\",\n    },\n    genres: [],\n    movies: getMovies(),\n    errors: {},\n  };\n  componentWillMount() {}\n  componentDidMount() {\n    // fetch genres\n    const genres = genreAPI.getGenres();\n    this.setState({ genres });\n    // if no movie ID break, else if no movie found go not found page\n    // else populate from with movie\n    const movieId = this.props.match.params.id;\n    if (movieId === \"new\") return;\n\n    const movie = getMovie(movieId);\n    if (!movie) return this.props.history.replace(\"/not-found\");\n    this.setState({ data: this.mapMovieModel(movie) });\n  }\n  mapMovieModel = (movie) => {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInStock,\n      dailyRentalRate: movie.dailyRentalRate,\n    };\n  };\n  showError = () => {\n    console.log(this.state.data);\n    const result = Joi.validate(this.state.data, this.schema, {\n      abortEarly: false,\n    });\n    console.log(result);\n  };\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string().required().label(\"Title\"),\n    genreId: Joi.string().required().label(\"Genre\"),\n    numberInStock: Joi.number()\n      .required()\n      .min(0)\n      .max(100)\n      .label(\"Number In Stock\"),\n    dailyRentalRate: Joi.number().required().min(0).max(10).label(\"Rate\"),\n  };\n  doSubmit = () => {\n    // call save movie API\n    saveMovie(this.state.data);\n    this.props.history.push(\"/movies\");\n  };\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        {this.renderInput(\"title\", \"Title\", true)}\n        {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\n        {this.renderInput(\"numberInStock\", \"Number In Stock\")}\n        {this.renderInput(\"dailyRentalRate\", \"Rate\")}\n        {this.renderButton(\"Save\")}\n      </form>\n    );\n  }\n}\n\nexport default MovieForm;\n","import React from \"react\";\nimport Form from \"./common/form\";\nimport Joi from \"joi-browser\";\n\nclass LoginForm extends Form {\n  // example of refs\n  // username = React.createRef();\n  //   componentDidMount() {\n  //     console.log(\"dom loaded\");\n  //     this.username.current.focus();\n  //   }\n  state = {\n    data: {\n      username: \"\",\n      password: \"\",\n    },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\"Password\"),\n  };\n\n  doSubmit = () => {\n    // call server api\n    console.log(\"login\");\n    this.props.history.push(\"/\");\n  };\n  render() {\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\", true)}\n          {this.renderInput(\"password\", \"Password\", false, \"password\")}\n          {this.renderButton(\"Login\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from \"react\";\nimport Form from \"./common/form\";\nimport Joi from \"joi-browser\";\n\nclass RegisterForm extends Form {\n  state = {\n    data: {\n      username: \"\",\n      password: \"\",\n      name: \"\",\n    },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().required().email().label(\"Username\"),\n    password: Joi.string().required().min(5).label(\"Password\"),\n    name: Joi.string().required().label(\"Name\"),\n  };\n  doSubmit = () => {\n    // register api\n    console.log(\"registered\");\n  };\n  render() {\n    return (\n      <>\n        {this.renderInput(\"username\", \"Username\", true)}\n        {this.renderInput(\"password\", \"Password\", false, \"password\")}\n        {this.renderInput(\"name\", \"Name\", false)}\n        {this.renderButton(\"Register\")}\n      </>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport MoviesList from \"./components/MoviesList\";\nimport Customers from \"./components/Customers\";\nimport Rentals from \"./components/Rentals\";\nimport NotFound from \"./components/NotFound\";\nimport NavBar from \"./components/common/NavBar\";\nimport MovieForm from \"./components/MovieForm\";\nimport LoginForm from \"./components/loginForm\";\nimport registerForm from \"./components/registerForm\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <NavBar />\n      <main className=\"container\">\n        <Switch>\n          <Route path=\"/login\" component={LoginForm} />\n          <Route path=\"/register\" component={registerForm} />\n          <Route path=\"/movies/:id\" component={MovieForm} />\n          <Route path=\"/movies\" component={MoviesList}></Route>\n          <Route path=\"/customers\" component={Customers}></Route>\n          <Route path=\"/rentals\" component={Rentals}></Route>\n          <Route path=\"/not-found\" component={NotFound}></Route>\n          <Redirect from=\"/\" exact to=\"movies\" />\n          <Redirect to=\"not-found\" />\n        </Switch>\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}